{"version":3,"sources":["../../src/collision/circleVcircle.js"],"names":["circleVcircle","body1","circle1","body2","circle2","success","fail","px","position","x","py","y","px2","py2","dx","dy","dist","Math","sqrt","penetration","radius","create"],"mappings":";;;;;kBAGwBA,a;;AAFxB;;;;;;AAEe,SAASA,aAAT,CAAuBC,KAAvB,EAA8BC,OAA9B,EAAuCC,KAAvC,EAA8CC,OAA9C,EAAuDC,OAAvD,EAAgEC,IAAhE,EACf;AACI,QAAMC,KAAKN,MAAMO,QAAN,CAAeC,CAAf,GAAmBP,QAAQM,QAAR,CAAiBC,CAA/C;AACA,QAAMC,KAAKT,MAAMO,QAAN,CAAeG,CAAf,GAAmBT,QAAQM,QAAR,CAAiBG,CAA/C;;AAEA,QAAMC,MAAMT,MAAMK,QAAN,CAAeC,CAAf,GAAmBL,QAAQI,QAAR,CAAiBC,CAAhD;AACA,QAAMI,MAAMV,MAAMK,QAAN,CAAeG,CAAf,GAAmBP,QAAQI,QAAR,CAAiBG,CAAhD;;AAEA,QAAMG,KAAKP,KAAKK,GAAhB;AACA,QAAMG,KAAKL,KAAKG,GAAhB;;AAEA,QAAMG,OAAOC,KAAKC,IAAL,CAAUJ,KAAKA,EAAL,GAAUC,KAAKA,EAAzB,CAAb;;AAEA,QAAMI,cAAcH,QAAQd,QAAQkB,MAAR,GAAiBhB,QAAQgB,MAAjC,CAApB;;AAEA,QAAGD,cAAc,CAAjB,EACA;AACI;AACAd,gBAAQJ,KAAR,EACQC,OADR,EAEQC,KAFR,EAGQC,OAHR,EAIQe,WAJR,EAKQ,iBAAOE,MAAP,CAAcP,KAAGE,IAAjB,EAAsBD,KAAGC,IAAzB,CALR;AAMH,KATD,MAWA;AACIV,aAAKL,KAAL,EACKC,OADL,EAEKC,KAFL,EAGKC,OAHL;AAIH;AACJ","file":"circleVcircle.js","sourcesContent":["\nimport Vector from '../Vector';\n\nexport default function circleVcircle(body1, circle1, body2, circle2, success, fail)\n{\n    const px = body1.position.x + circle1.position.x;\n    const py = body1.position.y + circle1.position.y;\n\n    const px2 = body2.position.x + circle2.position.x;\n    const py2 = body2.position.y + circle2.position.y;\n\n    const dx = px - px2;\n    const dy = py - py2;\n\n    const dist = Math.sqrt(dx * dx + dy * dy);\n\n    const penetration = dist - (circle1.radius + circle2.radius);\n\n    if(penetration < 0)\n    {\n        // TODO pooling..\n        success(body1,\n                circle1,\n                body2,\n                circle2,\n                penetration,\n                Vector.create(dx/dist,dy/dist))\n    }\n    else\n    {\n        fail(body1,\n             circle1,\n             body2,\n             circle2);\n    }\n}\n"]}